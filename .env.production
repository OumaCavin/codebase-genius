# ==========================================
# Codebase Genius - Production Environment
# ==========================================
# Production-ready configuration with security hardening

# ==========================================
# CORE APPLICATION SETTINGS
# ==========================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# Application URLs and Ports
API_HOST=0.0.0.0
API_PORT=8000
UI_PORT=8501
FRONTEND_URL=https://app.codebasegenius.ai
BACKEND_URL=https://api.codebasegenius.ai

# ==========================================
# PRODUCTION FEATURES
# ==========================================
DEV_MODE=false
HOT_RELOAD=false
AUTO_RELOAD=false
DEBUG_SQL=false
DEBUG_REQUESTS=false
DEBUG_RESPONSES=false
DEBUG_AGENTS=false

# ==========================================
# PERFORMANCE (Production Optimized)
# ==========================================
MAX_CONCURRENT_WORKFLOWS=5
WORKER_PROCESSES=4
WORKER_THREADS=8
DEFAULT_TIMEOUT=300
REQUEST_TIMEOUT=60
MAX_REPO_SIZE_MB=1000
MAX_FILE_SIZE_MB=50
MAX_FILES_PER_REPO=50000
MAX_MEMORY_USAGE_MB=4096
CACHE_SIZE_MB=1024
WORKSPACE_CLEANUP_INTERVAL_HOURS=6

# ==========================================
# DATABASE (Production)
# ==========================================
DATABASE_URL=postgresql://user:password@prod-db:5432/codebase_genius
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
AUTO_MIGRATE=true

REDIS_URL=redis://prod-redis:6379/0
REDIS_PASSWORD=secure-redis-password
REDIS_SSL=true
REDIS_MAX_CONNECTIONS=100

# ==========================================
# EXTERNAL API KEYS (Production)
# ==========================================
GITHUB_TOKEN=your-production-github-token
OPENAI_API_KEY=your-production-openai-api-key
ANTHROPIC_API_KEY=your-production-anthropic-api-key
GITLAB_TOKEN=your-production-gitlab-token
BITBUCKET_USERNAME=your-production-bitbucket-username
BITBUCKET_APP_PASSWORD=your-production-bitbucket-app-password
GITEE_TOKEN=your-production-gitee-token

# ==========================================
# SECURITY (Production Hardened)
# ==========================================
SECRET_KEY=your-super-secure-production-secret-key-256-bits
CORS_ORIGINS=https://app.codebasegenius.ai,https://*.codebasegenius.ai
ALLOWED_HOSTS=app.codebasegenius.ai,api.codebasegenius.ai,*.vercel.app,*.netlify.app
JWT_SECRET_KEY=your-jwt-production-secret-key
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=8

# Security Headers
ENABLE_SECURITY_HEADERS=true
FRAME_OPTIONS=DENY
CONTENT_TYPE_OPTIONS=nosniff
XSS_PROTECTION=1; mode=block

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=120
RATE_LIMIT_BURST=20

# SSL/TLS
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/codebasegenius.crt
SSL_KEY_PATH=/etc/ssl/private/codebasegenius.key

# ==========================================
# STORAGE (Production - Cloud)
# ==========================================
STORAGE_TYPE=s3
STORAGE_PATH=s3://codebase-genius-production
CACHE_DIR=/app/cache
TEMP_DIR=/app/temp

# AWS S3
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_DEFAULT_REGION=us-east-1
S3_BUCKET_NAME=codebase-genius-production
S3_PREFIX=docs/
S3_SSE=AES256
S3_SSE_KMS_KEY_ID=arn:aws:kms:us-east-1:account:key/id

# Google Cloud Storage (Backup)
GCP_PROJECT_ID=codebase-genius-prod
GCS_BUCKET_NAME=codebase-genius-prod-bucket
GCP_SERVICE_ACCOUNT_KEY=/secrets/gcp-service-account.json

# ==========================================
# PRODUCTION INFRASTRUCTURE
# ==========================================
# Kubernetes
K8S_NAMESPACE=codebase-genius-prod
K8S_SERVICE_ACCOUNT=codebase-genius
K8S_SECRET_NAME=codebase-genius-secrets

# Load Balancer
LOAD_BALANCER_IP=10.0.1.100
HEALTH_CHECK_PATH=/api/v1/health
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# ==========================================
# MONITORING (Production)
# ==========================================
ENABLE_METRICS=true
METRICS_PORT=8001
PROMETHEUS_PORT=9090

# Logging
LOG_FORMAT=json
LOG_FILE=/var/log/codebase-genius/app.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=10
LOG_LEVEL=INFO

# Tracing
ENABLE_TRACING=true
JAEGER_ENDPOINT=https://jaeger.codebasegenius.ai:14268/api/traces
TRACING_SAMPLE_RATE=0.01

# Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=codebase-genius@$VERSION
SENTRY_TRACES_SAMPLE_RATE=0.01

# ==========================================
# BACKUP (Production)
# ==========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90
BACKUP_STORAGE_PATH=s3://codebase-genius-backups
BACKUP_COMPRESSION=true
BACKUP_ENCRYPTION=true

# Database Backup
DB_BACKUP_SCHEDULE=0 1 * * *
DB_BACKUP_RETENTION_DAYS=30
DB_BACKUP_ENCRYPTION=true

# ==========================================
# FEATURE FLAGS (Production)
# ==========================================
FEATURE_AI_GENERATION=true
FEATURE_MULTI_FORMAT_OUTPUT=true
FEATURE_REALTIME_PROGRESS=true
FEATURE_USER_ACCOUNTS=true
FEATURE_COLLABORATION=true
FEATURE_API_V2=true
FEATURE_BATCH_PROCESSING=true
FEATURE_TEMPLATE_ENGINE=true
FEATURE_CUSTOM_STYLES=true
FEATURE_EXPORT_OPTIONS=true
FEATURE_API_RATE_LIMITING=true
FEATURE_USER_QUOTAS=true

BETA_ADVANCED_ANALYSIS=true
BETA_CODE_GRAPH=true
BETA_DEPENDENCY_TRACKING=true
BETA_PERFORMANCE_INSIGHTS=true
BETA_ML_INSIGHTS=false
BETA_SECURITY_AUDIT=false

# ==========================================
# CACHING (Production)
# ==========================================
CACHE_TYPE=redis
CACHE_DEFAULT_TIMEOUT=3600
CACHE_THRESHOLD=1000
CACHE_COMPRESS=true
REPO_CACHE_TTL=7200
REPO_CACHE_SIZE=500
REPO_CACHE_COMPRESS=true
API_CACHE_TTL=300
API_CACHE_SIZE=2000
API_CACHE_COMPRESS=true

# ==========================================
# QUEUE (Production)
# ==========================================
QUEUE_TYPE=redis
QUEUE_MAX_WORKERS=8
QUEUE_MAX_TASKS=5000
QUEUE_TASK_TIMEOUT=3600

# Celery
CELERY_BROKER_URL=redis://prod-redis:6379/0
CELERY_RESULT_BACKEND=redis://prod-redis:6379/0
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json

# ==========================================
# EMAIL (Production)
# ==========================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USERNAME=apikey
SMTP_PASSWORD=your-sendgrid-api-key
SMTP_USE_TLS=true
SMTP_FROM_EMAIL=noreply@codebasegenius.ai
SMTP_FROM_NAME=Codebase Genius

# ==========================================
# NOTIFICATIONS (Production)
# ==========================================
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#production-alerts
SLACK_USERNAME=CodebaseGenius
SLACK_ICON_EMOJI=robot_face

# Discord
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/DISCORD/WEBHOOK

# ==========================================
# ANALYTICS (Production)
# ==========================================
ANALYTICS_ENABLED=true
ANALYTICS_PROVIDER=mixpanel
MIXPANEL_TOKEN=your-mixpanel-token
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX

# ==========================================
# COMPLIANCE (Production)
# ==========================================
LICENSE_TYPE=enterprise
LICENSE_KEY=your-enterprise-license-key
LICENSE_VALIDATION_URL=https://license.codebasegenius.ai/validate

# Data Protection
DATA_RETENTION_DAYS=90
GDPR_COMPLIANCE=true
CCPA_COMPLIANCE=true
DATA_ENCRYPTION=true
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=365

# ==========================================
# INTERNATIONALIZATION (Production)
# ==========================================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr,de,zh,ja,ko,pt,it
TIMEZONE=UTC
DATE_FORMAT=YYYY-MM-DD
TIME_FORMAT=HH:mm:ss UTC
LOCALE=en_US.UTF-8